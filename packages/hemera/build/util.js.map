{"version":3,"sources":["../lib/util.js"],"names":["Util","randomBytes","toString","hrtime","process","Math","floor","obj","pickBy","val","prop","includes","args","isString","sb","each","v","k","indexOf","isFunction","push","sort","join","module","exports"],"mappings":";;qjBAAA;;;;;;AAMA;;;;AACA;;;;;;;;AAEA;;;IAGMA,I;;;;;;;;AACJ;;;;;+BAKkB;;AAEhB,aAAO,iBAAOC,WAAP,CAAmB,EAAnB,EAAuBC,QAAvB,CAAgC,KAAhC,CAAP;AACD;;AAED;;;;;;;;;;;gCAQmB;;AAEjB,UAAMC,SAASC,QAAQD,MAAR,EAAf;AACA,aAAOE,KAAKC,KAAL,CAAWH,OAAO,CAAP,IAAY,OAAZ,GAAsBA,OAAO,CAAP,IAAY,IAA7C,CAAP;AACD;;AAED;;;;;;;;;;iCAOoBI,G,EAAK;;AAEvB,UAAIA,QAAQ,IAAZ,EAAkB,OAAOA,GAAP;;AAElB,aAAO,iBAAEC,MAAF,CAASD,GAAT,EAAc,UAAUE,GAAV,EAAeC,IAAf,EAAqB;AACxC,eAAO,CAAC,iBAAEC,QAAF,CAAWD,IAAX,EAAiB,GAAjB,CAAR;AACD,OAFM,CAAP;AAGD;;AAED;;;;;;;;;4BAMeE,I,EAAM;;AAEnB,UAAI,iBAAEC,QAAF,CAAWD,IAAX,CAAJ,EAAsB;AACpB,eAAOA,IAAP;AACD;;AAEDA,aAAOA,QAAQ,EAAf;AACA,UAAIE,KAAK,EAAT;AACA,uBAAEC,IAAF,CAAOH,IAAP,EAAa,UAAUI,CAAV,EAAaC,CAAb,EAAgB;AAC3B,YAAI,CAAC,CAACA,EAAEC,OAAF,CAAU,GAAV,CAAF,IAAoB,CAAC,iBAAEC,UAAF,CAAaH,CAAb,CAAzB,EAA0C;AACxCF,aAAGM,IAAH,CAAQH,IAAI,GAAJ,GAAUD,CAAlB;AACD;AACF,OAJD;;AAMAF,SAAGO,IAAH;;AAEA,aAAOP,GAAGQ,IAAH,CAAQ,GAAR,CAAP;AACD;;;;;;AAGHC,OAAOC,OAAP,GAAiBxB,IAAjB","file":"util.js","sourcesContent":["/*!\n * hemera\n * Copyright(c) 2016 Dustin Deus (deusdustin@gmail.com)\n * MIT Licensed\n */\n\nimport _ from 'lodash'\nimport Crypto from 'crypto'\n\n/**\n * @class Util\n */\nclass Util {\n  /**\n   * @returns\n   *\n   * @memberOf Util\n   */\n  static randomId() {\n\n    return Crypto.randomBytes(16).toString('hex')\n  }\n\n  /**\n   * Get high resolution time in nanoseconds\n   *\n   * @static\n   * @returns\n   *\n   * @memberOf Util\n   */\n  static nowHrTime() {\n\n    const hrtime = process.hrtime()\n    return Math.floor(hrtime[0] * 1000000 + hrtime[1] / 1000)\n  }\n\n  /**\n   * @static\n   * @param {any} obj\n   * @returns\n   *\n   * @memberOf Util\n   */\n  static cleanPattern(obj) {\n\n    if (obj === null) return obj\n\n    return _.pickBy(obj, function (val, prop) {\n      return !_.includes(prop, '$')\n    })\n  }\n\n  /**\n   * @param {any} args\n   * @returns\n   *\n   * @memberOf Util\n   */\n  static pattern(args) {\n\n    if (_.isString(args)) {\n      return args\n    }\n\n    args = args || {}\n    let sb = []\n    _.each(args, function (v, k) {\n      if (!~k.indexOf('$') && !_.isFunction(v)) {\n        sb.push(k + ':' + v)\n      }\n    })\n\n    sb.sort()\n\n    return sb.join(',')\n  }\n}\n\nmodule.exports = Util\n"]}