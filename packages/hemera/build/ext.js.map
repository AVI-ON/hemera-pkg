{"version":3,"sources":["../lib/ext.js"],"names":["Ext","type","_stack","_type","handler","push","handlers","concat","ctx","cb","each","item","next","i","bind","call","serial","module","exports"],"mappings":";;;;AAEA;;;;;;AAMA;;;;;;;;AAEA;;;IAGMA,G;AAKJ,eAAYC,IAAZ,EAA0B;AAAA;;AAExB,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKC,KAAL,GAAaF,IAAb;AACD;;AAED;;;;;;;;;;;wBAOIG,O,EAAmB;;AAErB,WAAKF,MAAL,CAAYG,IAAZ,CAAiBD,OAAjB;AAED;;AAED;;;;;;;;;;6BAOSE,Q,EAA4B;;AAEnC,WAAKJ,MAAL,GAAc,KAAKA,MAAL,CAAYK,MAAZ,CAAmBD,QAAnB,CAAd;AAED;AACD;;;;;;;;;;2BAOOE,G,EAAaC,E,EAAc;;AAEhC,UAAMC,OAAO,SAAPA,IAAO,CAACC,IAAD,EAAOC,IAAP,EAAaC,CAAb,EAAmB;;AAE9B,YAAMC,OAAON,GAAb;;AAEAG,aAAKI,IAAL,CAAUD,IAAV,EAAgBF,IAAhB,EAAsBC,CAAtB;AACD,OALD;;AAOA,qBAAKG,MAAL,CAAY,KAAKd,MAAjB,EAAyBQ,IAAzB,EAA+BD,GAAGK,IAAH,CAAQN,GAAR,CAA/B;AAED;;;;;;AAGHS,OAAOC,OAAP,GAAiBlB,GAAjB","file":"ext.js","sourcesContent":["// @flow\n\n/*!\n * hemera\n * Copyright(c) 2016 Dustin Deus (deusdustin@gmail.com)\n * MIT Licensed\n */\n\nimport Util from './util'\n\n/**\n * @class Ext\n */\nclass Ext {\n\n  _stack: Array<Function>;\n  _type: string;\n\n  constructor(type: string) {\n\n    this._stack = []\n    this._type = type\n  }\n\n  /**\n   *\n   *\n   * @param {any} handler\n   *\n   * @memberOf Ext\n   */\n  add(handler: Function) {\n\n    this._stack.push(handler)\n\n  }\n\n  /**\n   *\n   *\n   * @param {Array<Function>} handlers\n   *\n   * @memberOf Ext\n   */\n  addRange(handlers: Array<Function> ) {\n\n    this._stack = this._stack.concat(handlers)\n\n  }\n  /**\n   *\n   *\n   * @param {any} cb\n   *\n   * @memberOf Ext\n   */\n  invoke(ctx: Hemera, cb: Function) {\n\n    const each = (item, next, i) => {\n\n      const bind = ctx\n\n      item.call(bind, next, i);\n    }\n\n    Util.serial(this._stack, each, cb.bind(ctx))\n\n  }\n}\n\nmodule.exports = Ext\n"]}