{"version":3,"sources":["../lib/serverResponse.js"],"names":["ServerResponse","_response","value","Error","isFunction","next","error"],"mappings":";;;;;;qjBAAA;;;;;;AAMA;;;;;;;;AAEA;;;IAGqBA,c;;AAEnB;;;;;;;AAOA,4BAAc;AAAA;;AAEZ,SAAKC,SAAL,GAAiB,EAAjB;AACD;;AAED;;;;;;;;;;;wBAOIC,K,EAAO;;AAET,UAAIA,iBAAiBC,KAArB,EAA4B;;AAE1B,YAAI,iBAAEC,UAAF,CAAa,KAAKC,IAAlB,CAAJ,EAA6B;AAC3B,eAAKA,IAAL,CAAUH,KAAV;AACD;AACF,OALD,MAKO;;AAEL,YAAI,iBAAEE,UAAF,CAAa,KAAKC,IAAlB,CAAJ,EAA6B;AAC3B,eAAKA,IAAL,CAAU,IAAV,EAAgBH,KAAhB,EAAuB,IAAvB;AACD;AACF;AAEF;;AAED;;;;;;;;;;yBAOKA,K,EAAO;;AAEV,UAAIA,iBAAiBC,KAArB,EAA4B;;AAE1B,YAAI,iBAAEC,UAAF,CAAa,KAAKC,IAAlB,CAAJ,EAA6B;AAC3B,eAAKA,IAAL,CAAUH,KAAV;AACD;AACF,OALD,MAKO;;AAEL,YAAI,iBAAEE,UAAF,CAAa,KAAKC,IAAlB,CAAJ,EAA6B;AAC3B,eAAKA,IAAL,CAAU,IAAV,EAAgBH,KAAhB;AACD;AACF;AAEF;;AAED;;;;;;;;;;wBAOc;;AAEZ,aAAO,KAAKD,SAAL,CAAeC,KAAtB;AACD;;AAED;;;;;;;sBAMYA,K,EAAO;;AAEjB,WAAKD,SAAL,CAAeC,KAAf,GAAuBA,KAAvB;AACD;;AAED;;;;;;;;;sBAMUI,K,EAAO;;AAEf,WAAKL,SAAL,CAAeK,KAAf,GAAuBA,KAAvB;AACD;;AAED;;;;;;;;wBAOY;;AAEV,aAAO,KAAKL,SAAL,CAAeK,KAAtB;AACD;;;;;;kBAxGkBN,c","file":"serverResponse.js","sourcesContent":["/*!\n * hemera\n * Copyright(c) 2016 Dustin Deus (deusdustin@gmail.com)\n * MIT Licensed\n */\n\nimport _ from 'lodash'\n\n/**\n * @class ServerResponse\n */\nexport default class ServerResponse {\n\n  /**\n   * Creates an instance of ServerResponse.\n   *\n   * @param {Hemera} ctx\n   *\n   * @memberOf ServerResponse\n   */\n  constructor() {\n\n    this._response = {}\n  }\n\n  /**\n   *\n   *\n   * @param {*} value\n   *\n   * @memberOf ServerResponse\n   */\n  end(value) {\n\n    if (value instanceof Error) {\n\n      if (_.isFunction(this.next)) {\n        this.next(value)\n      }\n    } else {\n\n      if (_.isFunction(this.next)) {\n        this.next(null, value, true)\n      }\n    }\n\n  }\n\n  /**\n   *\n   *\n   * @param {*} value\n   *\n   * @memberOf ServerResponse\n   */\n  send(value) {\n\n    if (value instanceof Error) {\n\n      if (_.isFunction(this.next)) {\n        this.next(value)\n      }\n    } else {\n\n      if (_.isFunction(this.next)) {\n        this.next(null, value)\n      }\n    }\n\n  }\n\n  /**\n   *\n   *\n   * @readonly\n   * @type {*}\n   * @memberOf ServerResponse\n   */\n  get payload() {\n\n    return this._response.value\n  }\n\n  /**\n   *\n   *\n   *\n   * @memberOf ServerResponse\n   */\n  set payload(value) {\n\n    this._response.value = value\n  }\n\n  /**\n   *\n   *\n   *\n   * @memberOf ServerResponse\n   */\n  set error(error) {\n\n    this._response.error = error\n  }\n\n  /**\n   *\n   *\n   * @readonly\n   * @type {*}\n   * @memberOf ServerResponse\n   */\n  get error() {\n\n    return this._response.error\n  }\n\n}\n"]}