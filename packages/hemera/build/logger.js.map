{"version":3,"sources":["../lib/logger.js"],"names":["Pretty","pretty","defaultConfig","level","levels","Logger","params","self","_config","applyToDefaults","pipe","process","stdout","_logger","name","safe","__proto__","module","exports"],"mappings":";;AAQA;;;;AACA;;;;;;;;AAPA;;;;;;AASA,IAAMA,SAAS,eAAKC,MAAL,EAAf;;AAGA;AACA,IAAIC,gBAAgB;AAClBC,SAAO,QADW;AAElBC,UAAQ,CAAC,MAAD,EAAS,MAAT,EAAiB,OAAjB,EAA0B,OAA1B,EAAmC,OAAnC,EAA4C,OAA5C;AAFU,CAApB;;AAKA;;;;IAGMC,M;AAIJ;;;;;;;AAOA,gBAAYC,MAAZ,EAEG;AAAA;;AAED,MAAIC,OAAO,IAAX;;AAEAA,OAAKC,OAAL,GAAe,eAAKC,eAAL,CAAqBP,aAArB,EAAoCI,UAAU,EAA9C,CAAf;;AAEA;AACA,MAAI,KAAKE,OAAL,CAAaL,KAAb,KAAuB,QAA3B,EAAqC;AACnCH,WAAOU,IAAP,CAAYC,QAAQC,MAApB;AACD;;AAED,OAAKC,OAAL,GAAe,oBAAK;AAClBC,UAAM,KADY;AAElBC,UAAM,IAFY;AAGlBZ,WAAO,KAAKK,OAAL,CAAaL;AAHF,GAAL,EAIZH,MAJY,CAAf;;AAMA,OAAKgB,SAAL,GAAiB,KAAKH,OAAtB;AAED,C;;AAGHI,OAAOC,OAAP,GAAiBb,MAAjB","file":"logger.js","sourcesContent":["// @flow\n\n/*!\n * hemera\n * Copyright(c) 2016 Dustin Deus (deusdustin@gmail.com)\n * MIT Licensed\n */\n\nimport Hoek from 'hoek'\nimport Pino from 'pino'\n\nconst Pretty = Pino.pretty()\n\n\n//Config\nlet defaultConfig = {\n  level: 'silent',\n  levels: ['info', 'warn', 'debug', 'trace', 'error', 'fatal']\n}\n\n/**\n * @class Logger\n */\nclass Logger {\n\n  _config: any;\n  _logger: any;\n  /**\n   * Creates an instance of Logger.\n   *\n   * @param {any} params\n   *\n   * @memberOf Logger\n   */\n  constructor(params: {\n    level: string\n  }) {\n\n    let self = this\n\n    self._config = Hoek.applyToDefaults(defaultConfig, params || {})\n\n    //Leads to too much listeners in tests\n    if (this._config.level !== 'silent') {\n      Pretty.pipe(process.stdout)\n    }\n\n    this._logger = Pino({\n      name: 'app',\n      safe: true,\n      level: this._config.level\n    }, Pretty)\n\n    this.__proto__ = this._logger\n\n  }\n}\n\nmodule.exports = Logger\n"]}